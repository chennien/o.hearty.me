<!DOCTYPE html>
<html lang="zh">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hearty Journal 溫度日記</title>
<meta property="og:title" content="Hearty Journal 溫度日記">
<meta property="og:description" content="Keep your precious memories | 手繪風的私密日誌本，溫柔收藏你的每寸時光">
<meta property="og:image" content="https://i.hearty.app/i/illustrations/sheara.jpg">
<meta property="og:site_name" content="Hearty Journal 溫度日記">
<meta property="og:type" content="website">
<meta name="google-play-app" content="app-id=com.hearty.me">
<meta name="apple-itunes-app" content="app-id=1423459636,affiliate-data=1010lPJU,app-argument=https://hearty.me">
<meta property="al:ios:url" content="hearty://d">
<meta property="al:ios:app_store_id" content="1423459636">
<meta property="al:ios:app_name" content="Hearty Journal 溫度日記">
<meta property="al:android:url" content="hearty://d">
<meta property="al:android:app_name" content="Hearty Journal 溫度日記">
<meta property="al:android:package" content="com.hearty.me">
<link rel="shortcut icon" href="https://i.hearty.app/i/favicon.png" type="image/png">
<meta http-equiv="refresh" content="3;url=https://hearty.me">
<meta name="color-scheme" content="only light">
<meta name="google" content="notranslate">
<style>
*, 
*::before, 
*::after{
	box-sizing: inherit;
}
html{
	box-sizing: border-box;
	appearance: none;
}
body{
	min-height: 95vh;
	margin: 0;
	padding: 0;
	background: url(/img/sleeping_kitten.png) no-repeat center, url(https://i0.wp.com/o.hearty.me/img/bg.png) repeat center, #fff;
	background-size: 250px;
	scrollbar-width: none;
	overscroll-behavior: none;
	cursor: wait;
}
iframe, 
img{
	display: none;
}
</style>
<script>
// Universal Link fallback logic
(function() {
	// Helper: open url, fallback if fail
	function tryOpen(url, fallback) {
		let clicked = false, // Use let since it's reassigned
			iframe = document.createElement('iframe'); // Use let (or const)
		iframe.style.display = 'none';
		iframe.src = url;
		document.body.appendChild(iframe);
		let timer = setTimeout(function() { // Use let (or const)
			if (!clicked) fallback();
		}, 1800);
		window.onblur = function() {
			clicked = true;
			clearTimeout(timer);
		};
	}

	// Detect touch device (mobile)
	let isMobile = ("ontouchstart" in window || (navigator.maxTouchPoints && navigator.maxTouchPoints > 0)) && !matchMedia("(pointer:fine)").matches,
		ua = (navigator.userAgent||"").toLowerCase(),
		uri = location.pathname+location.search+location.hash, 
		isIOS = /ip(hone|ad|od)/.test(ua),
		isAndroid = /android/.test(ua),
		isWindows = /windows/.test(ua);

	if (isMobile) {
		// --- Mobile ---
		let heartyUrl = "hearty://" + uri.replace(/^\//, '');
		if (isIOS) {
			// iOS: try open app, fallback to App Store by language
			tryOpen(heartyUrl, function() {
				let lang = (navigator.language||'').toLowerCase();
				if (lang=='zh-cn'){
					top.location.href = 'https://apple.co/3En9ZGM';
				} else if (lang.indexOf('zh')==0) {
					top.location.href = 'https://apple.co/3Fj1uxP';
				} else {
					top.location.href = 'https://apple.co/3pnrdzD';
				}
			});
		} else if (isAndroid) {
			// Android: try open app with intent, fallback to Play Store
			let intentUrl = `intent://${uri.replace(/^\//, '')}#Intent;scheme=hearty;package=com.hearty.me;S.browser_fallback_url=${encodeURIComponent('https://play.google.com/store/apps/details?id=com.hearty.me')};end`;
			tryOpen(intentUrl, function() {
				top.location.href = 'https://play.google.com/store/apps/details?id=com.hearty.me';
			});
		} else {
			// Other mobile: go to hearty.me
			top.location.href = 'https://hearty.me'+uri;
		}
	} else if (isWindows) {
		// --- Windows ---
		let msStoreUrl = 'ms-windows-store://pdp/?ProductId=9NFJJ03TS908',
			msWebUrl = 'https://apps.microsoft.com/detail/9nfjj03ts908';
		try {
			top.location.href = msStoreUrl;
			setTimeout(function() {
				top.location.href = msWebUrl;
			}, 1800);
		} catch (e) {
			top.location.href = msWebUrl;
		}
	} else {
		// --- Other devices ---
		top.location.href = 'https://hearty.me'+uri;
	}
})();
</script>
</head>

<body>
<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MM8GZN5" width="1" height="1"></iframe>
<img src="https://www.facebook.com/tr?id=1744151072463420&ev=PageView" width="1" height="1">
</body>

</html>